define(["jquery","core/str"],function(a,b){return{init:function(){function c(b){this._id=b,this.$tpanel=a("#"+b),this.$tabs=this.$tpanel.find(".tab"),this.$panels=this.$tpanel.find(".tab-pane"),this.bindHandlers(),this.init()}b.get_strings([{key:"accesforumstringdis",component:"theme_snap"},{key:"accesforumstringmov",component:"theme_snap"},{key:"calendar",component:"calendar"}]).done(function(b){a("i.fa-calendar").parent().attr("aria-label",b[2]),a("input[name='TimeEventSelector[calendar]']").attr("aria-label",b[2]),a("#page-mod-forum-discuss")&&(a(".displaymode form select.custom-select").attr("aria-label",b[0]),a(".movediscussion select.urlselect").attr("aria-label",b[1]))}),a(document).ready(function(){new c("snap-pm-accessible-tab"),new c("modchooser-accessible-tab")}),c.prototype.keys={left:37,up:38,right:39,down:40},c.prototype.init=function(){var a;this.$panels.attr("aria-hidden","true"),this.$panels.removeClass("active in"),a=this.$tabs.filter(".active"),void 0===a&&(a=this.$tabs.first(),a.addClass("active")),this.$tpanel.find("#"+a.find("a").attr("aria-controls")).addClass("active in").attr("aria-hidden","false")},c.prototype.switchTabs=function(a,b){var c=a.find("a"),d=b.find("a");a.removeClass("active"),c.attr("tabindex","-1").attr("aria-selected","false"),b.addClass("active"),d.attr("aria-selected","true"),this.$tpanel.find("#"+c.attr("aria-controls")).removeClass("active in").attr("aria-hidden","true"),this.$tpanel.find("#"+d.attr("aria-controls")).addClass("active in").attr("aria-hidden","false"),d.attr("tabindex","0"),d.focus()},c.prototype.bindHandlers=function(){var b=this;this.$tabs.keydown(function(c){return b.handleTabKeyDown(a(this),c)}),this.$tabs.click(function(c){return b.handleTabClick(a(this),c)})},c.prototype.handleTabKeyDown=function(a,b){var c,d;switch(b.keyCode){case this.keys.left:case this.keys.up:return d=this.$tabs.index(a),c=0===d?this.$tabs.last():this.$tabs.eq(d-1),this.switchTabs(a,c),b.preventDefault(),!1;case this.keys.right:case this.keys.down:return d=this.$tabs.index(a),c=d===this.$tabs.length-1?this.$tabs.first():this.$tabs.eq(d+1),this.switchTabs(a,c),b.preventDefault(),!1}},c.prototype.handleTabClick=function(a){var b=this.$tpanel.find(".tab.active");this.switchTabs(b,a)}}}});